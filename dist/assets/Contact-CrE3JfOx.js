import{j as e,s as N}from"./index-BZbPjpZp.js";import{r as d}from"./vendor-CIP6LD3P.js";import{m as S}from"./motion-S1EdF0m5.js";const _=({onVerify:s,disabled:n,isLoading:l})=>{const t=()=>{!n&&!l&&setTimeout(()=>{s("simulated-recaptcha-token")},500)};return e.jsx("button",{type:"button",onClick:t,disabled:n||l,className:`btn w-100 ${l?"btn-warning":"btn-primary"}`,style:l?{cursor:"pointer"}:{},children:l?"Sending...":"Send"})},M=({page:s})=>{const[n,l]=d.useState({name:"",email:"",phone:"",message:""}),[t,m]=d.useState({}),[p,c]=d.useState(!1),[x,h]=d.useState(!1),o=a=>{const{name:r,value:i}=a.target;l(u=>({...u,[r]:i})),t[r]&&m(u=>({...u,[r]:[]}))},f=()=>n.name&&n.email&&n.phone&&n.message,v=()=>{const a={};return(!n.name||n.name.length<4)&&(a.name=["Name must be at least 4 characters long"]),(!n.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))&&(a.email=["Please enter a valid email address"]),(!n.phone||n.phone.length<10)&&(a.phone=["Please enter a valid phone number"]),(!n.message||n.message.length<50)&&(a.message=["Message must be at least 50 characters long"]),m(a),Object.keys(a).length===0},b=async a=>{var r;if(!v()){c(!1);return}c(!0),m({});try{await N({...n,recaptcha:a}),l({name:"",email:"",phone:"",message:""}),h(!0),setTimeout(()=>{h(!1)},5e3)}catch(i){console.error("Error submitting form:",i),(r=i.response)!=null&&r.data&&typeof i.response.data=="object"?m(i.response.data):m({general:["An error occurred. Please try again."]})}finally{c(!1)}},j=a=>{a.preventDefault()},y=a=>a.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substr(1).toLowerCase()),g=s.name?y(s.name):s.title||"";return e.jsxs("div",{className:"container",children:[g&&e.jsx("h1",{children:g}),s.images&&s.images.length>0&&e.jsx("div",{className:"mb-8",children:s.images.length>1?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.images.map(a=>e.jsx("img",{src:a.path,alt:s.name||s.title||"",className:"w-full h-auto rounded-lg shadow-lg"},a.id))}):e.jsx("img",{src:s.images[0].path,alt:s.name||s.title||"",className:"w-full h-auto rounded-lg shadow-lg mb-8"})}),s.body_prefix&&e.jsx("div",{className:"mb-6 prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:s.body_prefix}}),s.body&&e.jsx("div",{className:"mb-8 prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:s.body}}),e.jsx("div",{className:"row my-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"my-4",children:x?e.jsx(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"alert alert-success",children:e.jsx("p",{children:"Thank you, your message has been sent!"})}):e.jsxs("form",{onSubmit:j,noValidate:!0,children:[t.general&&e.jsx("div",{className:"alert alert-danger",children:t.general.map((a,r)=>e.jsx("div",{dangerouslySetInnerHTML:{__html:a}},r))}),e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:o,placeholder:"Name",required:!0,autoFocus:!0,"aria-label":"Name",className:`form-control ${t.name?"is-invalid":""}`}),t.name&&e.jsx("div",{className:"invalid-feedback",children:t.name.map((a,r)=>e.jsx("div",{dangerouslySetInnerHTML:{__html:a}},r))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:o,placeholder:"E-mail",required:!0,"aria-label":"E-mail address",className:`form-control ${t.email?"is-invalid":""}`}),t.email&&e.jsx("div",{className:"invalid-feedback",children:t.email.map((a,r)=>e.jsx("div",{dangerouslySetInnerHTML:{__html:a}},r))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"text",id:"phone",name:"phone",value:n.phone,onChange:o,placeholder:"Phone",required:!0,"aria-label":"Phone number",className:`form-control ${t.phone?"is-invalid":""}`}),t.phone&&e.jsx("div",{className:"invalid-feedback",children:t.phone.map((a,r)=>e.jsx("div",{dangerouslySetInnerHTML:{__html:a}},r))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:o,placeholder:"Your message",required:!0,rows:3,"aria-label":"Message",className:`form-control ${t.message?"is-invalid":""}`}),t.message&&e.jsx("div",{className:"invalid-feedback",children:t.message.map((a,r)=>e.jsx("div",{dangerouslySetInnerHTML:{__html:a}},r))})]}),e.jsx(_,{onVerify:b,disabled:!f(),isLoading:p})]})})})}),s.body_suffix&&e.jsx("div",{className:"mt-6 prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:s.body_suffix}})]})};export{M as default};
